{% extends "base.html" %}

{% block content %}
<h3>Study Form</h3>
<form style="padding:30px; background-color: #DDDDDD;" class="rounded" id="user-email" action="" method="post" enctype="multipart/form-data"novalidate>

    {{ form.hidden_tag() }}

    <div class="form-row">
        <div class="form-group col-md-6">
            <label>{{ form.name.label }}</label>
            {{ form.name(class="form-control") }}
            {% for error in form.name.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        <div class="form-group col-md-6">
            <label>{{ form.image.label }}</label>
            <div class="custom-file">
                {{ form.image(type="file", class="custom-file-input", id="inputGroupFile01") }}
                <label class="custom-file-label" for="inputGroupFile01">
                    Upload Image
                </label>        
            </div> 
            {% for error in form.image.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
    </div>

    <div class="form-group">
        <label>{{ form.desc.label }}</label>
        {{ form.desc(class="form-control") }}
        {% for error in form.desc.errors %}
            <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
    </div>
    <div class="form-row">
        <div class="form-group col-md-6">
            <label>{{ form.cards_set_1.label }}</label>
            {{ form.cards_set_1(class="form-control") }}
            {% for error in form.cards_set_1.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        <div class="form-group col-md-6">
            <label>{{ form.cards_set_2.label }}</label>
            {{ form.cards_set_2(class="form-control") }}
            {% for error in form.cards_set_2.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}         
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-2">
            <label>{{ form.data_values.label }}</label>
            {{ form.data_values(class="form-control data-values") }}
            {% for error in form.data_values.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
    
    
        
            <!-- <label>{{ form.data_values_labels.label }}</label> -->
            {% for l in form.data_values_labels %}
            <div class="form-group col-md-5">
                <div class="item" hidden>
                    <label>{{ l.label }}</label>
                    {{ l(class="form-control data-value-label") }}
                    {% for error in l.errors %}
                        <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                </div>
            </div>
            {% endfor %}   
        
    </div>

    <div class="form-row">
        <div class="form-group col-md-2">
            <label>{{ form.number_of_columns.label }}</label>
            {{ form.number_of_columns(class="form-control") }}
            {% for error in form.number_of_columns.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        <div class="form-group col-md-2">
            <label>{{ form.number_of_rows.label }}</label>
            {{ form.number_of_rows(class="form-control") }}
            {% for error in form.number_of_rows.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-12">
        <label>{{ form.user_group.label }}</label>
        {{ form.user_group(class="form-control") }}
        {% for error in form.user_group.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
    </div>

    <div class="form-row">
        <div class="form-group col-md-2">
            <label>{{ form.start_date.label }}</label>
            {{ form.start_date(class="form-control") }}
            {% for error in form.start_date.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        <div class="form-group col-md-2">
            <label>{{ form.end_date.label }}</label>
            {{ form.end_date(class="form-control") }}
            {% for error in form.end_date.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
    </div>
    <p>{{ form.submit(class="btn btn-primary") }}</p>

</form>


<script src="//code.jquery.com/jquery.min.js"></script>
<script>
    $( document ).ready(function() {
        var val = $(".data-values").val()

        if(val == 1 ){
            $("#data_values_labels-0").parent().attr("hidden", false);
        } else if (val == 2) {
            $("#data_values_labels-0").parent().attr("hidden", false);
            $("#data_values_labels-1").parent().attr("hidden", false);
        }
    });
</script>
<script>
    $(".data-values").on("change", function(){
        $(".item").attr("hidden", true);
        $("#data_values_labels-0").val('');
        $("#data_values_labels-1").val('');
        
        if($(".data-values").val() == 1 ){
            $("#data_values_labels-0").parent().attr("hidden", false);
        } else if ($(".data-values").val() == 2) {
            $("#data_values_labels-0").parent().attr("hidden", false);
            $("#data_values_labels-1").parent().attr("hidden", false);
        }
    });
  </script>
{% endblock %}